<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è€ƒç ”äºŒè®²å·¥ä½œå°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="flex h-screen overflow-hidden">

    <div id="view-pc" class="flex flex-1 w-full">
        <aside class="w-64 flex flex-col">
            <div class="p-8 flex items-center gap-3">
                <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/50">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <span class="text-white font-black text-xl tracking-tighter">è€ƒç ”äºŒè®²å·¥ä½œå°</span>
            </div>
            <nav class="flex-1 mt-4">
                <div onclick="showPage('home')" id="nav-home" class="sidebar-item flex items-center gap-4 px-6 py-4 cursor-pointer nav-active">
                    <i class="fas fa-th-large w-5"></i><span class="font-semibold text-sm">é¦–é¡µçœ‹æ¿</span>
                </div>
                <div onclick="showPage('student')" id="nav-student" class="sidebar-item flex items-center gap-4 px-6 py-4 cursor-pointer">
                    <i class="fas fa-users w-5"></i><span class="font-semibold text-sm">å­¦å‘˜ç®¡ç†</span>
                </div>
                <div onclick="showPage('task')" id="nav-task" class="sidebar-item flex items-center gap-4 px-6 py-4 cursor-pointer">
                    <i class="fas fa-tasks w-5"></i><span class="font-semibold text-sm">ä»»åŠ¡ç®¡ç†</span>
                </div>
            </nav>
            <div class="m-6 p-4 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-3">
                <img src="avatar.jpeg" class="w-9 h-9 rounded-xl">
                <div class="overflow-hidden"><p class="text-white text-xs font-bold truncate">å¼ ä¸‰è€å¸ˆ</p><p class="text-gray-500 text-[9px] uppercase">é«˜çº§äºŒè®²</p></div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col min-w-0 bg-slate-50/50">
            <header class="h-16 flex items-center justify-between px-10 bg-white/50 backdrop-blur-md border-b">
                <h2 id="page-title" class="text-lg font-bold text-slate-800">é¦–é¡µçœ‹æ¿</h2>
                <div class="flex items-center gap-4 text-xs font-bold text-slate-400 uppercase tracking-widest">
                    <span id="current-date">2026å¹´1æœˆ16æ—¥</span>
                </div>
            </header>
            <div id="pc-content" class="flex-1 overflow-y-auto p-10">
                </div>
        </main>
    </div>

    <div id="view-wecom" class="hidden flex flex-1 justify-center items-center bg-slate-200">
        <div class="w-[360px] h-screen bg-white shadow-2xl flex flex-col border-x">
            <div class="p-3 bg-slate-50 border-b flex justify-between items-center">
                <span class="text-xs font-bold text-slate-500">å­¦å‘˜è¯¦æƒ… Â· æèŒèŒ</span>
                <i class="fas fa-times text-slate-300 cursor-pointer" onclick="switchView('pc')"></i>
            </div>
            <div class="p-5 flex items-center gap-4 border-b">
                <div class="w-12 h-12 rounded-xl bg-blue-600 flex items-center justify-center text-white font-black text-xl">æ</div>
                <div>
                    <div class="flex items-center gap-2"><span class="font-bold">æèŒèŒ</span><span class="text-[9px] bg-red-100 text-red-600 px-1 rounded font-black">é€€è´¹é£é™©</span></div>
                    <p class="text-[10px] text-slate-400 mt-0.5">ID: 98721 | æ¸…åå¤§å­¦-è®¡ç®—æœº</p>
                </div>
            </div>
            <div class="flex-1 overflow-y-auto">
                <div class="flex border-b text-xs sticky top-0 bg-white z-10">
                    <div class="flex-1 py-3 text-center border-b-2 border-blue-600 text-blue-600 font-bold">TODO</div>
                    <div class="flex-1 py-3 text-center text-slate-400">è®¡åˆ’</div>
                    <div class="flex-1 py-3 text-center text-slate-400">æ‰“å¡</div>
                </div>
                <div class="p-4 space-y-3">
                    <div class="p-3 bg-orange-50 rounded-xl border-l-4 border-orange-400">
                        <p class="text-xs font-bold text-orange-800">ä¿®æ”¹é«˜æ•°åŸºç¡€å­¦ä¹ è®¡åˆ’</p>
                        <p class="text-[9px] text-orange-400 mt-1">æˆªæ­¢ï¼šä»Šæ—¥ 18:00</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="view-mobile" class="hidden flex flex-1 justify-center items-center bg-slate-100 py-10">
        <div class="phone-case">
            <div class="dynamic-island"></div>
            <div class="screen">
                <div id="mobile-home" class="tab-content animate-up">
                    <div class="spark-gradient p-8 pt-14 text-white rounded-b-[45px] shadow-xl">
                        <div class="flex justify-between items-start">
                            <div><p class="text-blue-100 text-[10px] font-black uppercase tracking-widest">è·ç¦»2027è€ƒç ”</p><h1 class="text-5xl font-black mt-1">706<span class="text-sm font-normal ml-1 opacity-60">å¤©</span></h1></div>
                            <div class="flex flex-col items-center"><i class="fas fa-fire text-4xl text-orange-400 animate-pulse"></i><p class="text-[9px] font-black mt-1">LV.3</p></div>
                        </div>
                    </div>
                    <div class="px-6 mt-8">
                        <h3 class="font-black text-slate-800 text-lg mb-4">ä»Šæ—¥ä»»åŠ¡</h3>
                        <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4">
                            <div class="w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600"><i class="fas fa-book-open text-sm"></i></div>
                            <div class="flex-1"><p class="font-bold text-slate-800 text-xs">è‹±è¯­é•¿éš¾å¥ç²¾è¯»</p><p class="text-[9px] text-slate-400">30åˆ†é’Ÿ Â· æ—¥å¸¸è®¡åˆ’</p></div>
                            <button class="bg-blue-600 text-white text-[10px] px-3 py-1.5 rounded-full font-bold shadow-lg shadow-blue-100">å»å®Œæˆ</button>
                        </div>
                    </div>
                </div>
                <div class="mobile-nav-bar">
                    <div class="mobile-nav-item active"><i class="fas fa-home text-lg"></i><span>é¦–é¡µ</span></div>
                    <div class="mobile-nav-item"><i class="fas fa-calendar-alt text-lg"></i><span>è®°å½•</span></div>
                    <div class="mobile-nav-item"><i class="fas fa-trophy text-lg"></i><span>æ’è¡Œ</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- å­¦å‘˜è¯¦æƒ…æŠ½å±‰ -->
    <div id="drawer-overlay" class="drawer-overlay" onclick="closeStudentDrawer()"></div>
    <div id="student-drawer" class="drawer">
        <div class="drawer-header">
            <span class="text-xs font-bold text-slate-500">å­¦å‘˜è¯¦æƒ… Â· <span id="drawer-student-name">æèŒèŒ</span></span>
            <i class="fas fa-times text-slate-300 cursor-pointer hover:text-slate-500" onclick="closeStudentDrawer()"></i>
        </div>
        <div class="drawer-body">
            <div class="p-5 flex items-center gap-4 border-b">
                <div class="w-12 h-12 rounded-xl bg-blue-600 flex items-center justify-center text-white font-black text-xl" id="drawer-avatar">æ</div>
                <div>
                    <div class="flex items-center gap-2">
                        <span class="font-bold" id="drawer-name">æèŒèŒ</span>
                        <span class="text-[9px] bg-red-100 text-red-600 px-1 rounded font-black">é€€è´¹é£é™©</span>
                    </div>
                    <p class="text-[10px] text-slate-400 mt-0.5">ID: <span id="drawer-id">98721</span> | <span id="drawer-school">æ¸…åå¤§å­¦</span>-<span id="drawer-major">è®¡ç®—æœº</span></p>
                </div>
            </div>
            <div class="flex border-b text-xs sticky top-0 bg-white z-10">
                <div class="flex-1 py-3 text-center border-b-2 border-blue-600 text-blue-600 font-bold">TODO</div>
                <div class="flex-1 py-3 text-center text-slate-400">è®¡åˆ’</div>
                <div class="flex-1 py-3 text-center text-slate-400">æ‰“å¡</div>
            </div>
            <div class="p-4 space-y-3">
                <div class="p-3 bg-orange-50 rounded-xl border-l-4 border-orange-400">
                    <p class="text-xs font-bold text-orange-800">ä¿®æ”¹é«˜æ•°åŸºç¡€å­¦ä¹ è®¡åˆ’</p>
                    <p class="text-[9px] text-orange-400 mt-1">æˆªæ­¢ï¼šä»Šæ—¥ 18:00</p>
                </div>
            </div>
        </div>
    </div>

    <div class="view-switcher">
        <button onclick="switchView('pc')" id="btn-pc" class="view-btn active">ç®¡ç†åå°</button>
        <button onclick="switchView('wecom')" id="btn-wecom" class="view-btn">ä¼å¾®ä¾§æ </button>
        <button onclick="switchView('mobile')" id="btn-mobile" class="view-btn">å­¦å‘˜ç«¯</button>
    </div>

    <script>
        const pcContent = document.getElementById('pc-content');
        const pageTitle = document.getElementById('page-title');

        const pages = {
            home: `
                <div class="animate-up">
                    <div class="welcome-banner p-10 text-white flex justify-between items-center mb-10 shadow-xl relative overflow-hidden">
                        <div class="relative z-10">
                            <h1 class="text-3xl font-black tracking-tight mb-1">ä¸‹åˆå¥½ï¼Œå¼ ä¸‰è€å¸ˆï¼ğŸ‘‹</h1>
                            <p class="text-white/60 text-sm font-medium">ä»Šå¤©æœ‰ <span class="text-white underline">24</span> é¡¹å¾…åŠä»»åŠ¡éœ€è¦è·Ÿè¿›ã€‚</p>
                        </div>
                        <div class="flex gap-4 relative z-10">
                            <div class="bg-white/10 backdrop-blur-md px-6 py-3 rounded-2xl border border-white/10 text-center">
                                <p class="text-[9px] font-black opacity-50 uppercase mb-1">è·ç¦» 27 è€ƒç ”</p>
                                <p class="text-xl font-black">706 <span class="text-xs font-normal opacity-50">å¤©</span></p>
                            </div>
                            <div class="bg-white/10 backdrop-blur-md px-6 py-3 rounded-2xl border border-white/10 text-center">
                                <p class="text-[9px] font-black opacity-50 uppercase mb-1">è·ç¦» 28 è€ƒç ”</p>
                                <p class="text-xl font-black">1072 <span class="text-xs font-normal opacity-50">å¤©</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-5 gap-6">
                        <div class="glass-card p-6 rounded-3xl cursor-pointer" onclick="showPage('task')">
                            <p class="text-slate-400 text-[10px] font-black uppercase tracking-widest mb-4">ä»Šæ—¥å¾…åŠæ•°é‡</p>
                            <h2 class="text-4xl font-black text-slate-800 mb-6">24</h2>
                            <div class="flex justify-between text-[10px] font-bold mb-1"><span class="text-red-500">P0 ç´§æ€¥å æ¯”</span><span>15%</span></div>
                            <div class="w-full bg-slate-100 h-1.5 rounded-full overflow-hidden"><div class="bg-red-500 h-full" style="width: 15%"></div></div>
                        </div>
                        <div class="glass-card p-6 rounded-3xl cursor-pointer" onclick="showPage('student')">
                            <p class="text-slate-400 text-[10px] font-black uppercase tracking-widest mb-4">å½“å‰å¸¦ç­é‡</p>
                            <h2 class="text-4xl font-black text-slate-800 mb-6">482</h2>
                            <div class="flex gap-2"><div class="flex-1 bg-blue-50 p-2 rounded-xl text-center"><p class="text-[9px] text-blue-400 font-bold">27å±Š</p><p class="text-xs font-black text-blue-700">85%</p></div><div class="flex-1 bg-indigo-50 p-2 rounded-xl text-center"><p class="text-[9px] text-indigo-400 font-bold">28å±Š</p><p class="text-xs font-black text-indigo-700">15%</p></div></div>
                        </div>
                        <div class="glass-card p-6 rounded-3xl border-red-100 cursor-pointer" onclick="showRiskStudents()">
                            <p class="text-red-400 text-[10px] font-black uppercase tracking-widest mb-4">é€€è´¹é£é™©äººæ•°</p>
                            <div class="flex items-baseline gap-2 mb-4"><h2 class="text-4xl font-black text-red-600">12</h2><span class="text-[10px] text-red-400 font-bold">â†‘ 2</span></div>
                            <p class="text-[9px] text-slate-400 leading-relaxed">æ£€æµ‹åˆ°è¿‘æœŸå®Œè¯¾ç‡æ³¢åŠ¨çš„å­¦å‘˜ã€‚</p>
                        </div>
                        <div class="glass-card p-6 rounded-3xl">
                            <p class="text-slate-400 text-[10px] font-black uppercase tracking-widest mb-4">å¹³å‡å®Œè¯¾ç‡</p>
                            <h2 class="text-4xl font-black text-green-600 mb-6">78.5%</h2>
                            <div class="w-full bg-slate-100 h-2 rounded-full overflow-hidden"><div class="bg-green-500 h-full" style="width: 78.5%"></div></div>
                        </div>
                        <div class="glass-card p-6 rounded-3xl">
                            <p class="text-slate-400 text-[10px] font-black uppercase tracking-widest mb-4">æœ¬æœˆä¸šç»©</p>
                            <h2 class="text-2xl font-black text-slate-800 mb-2">Â¥82,400</h2>
                            <p class="text-[9px] text-slate-400 mb-3 font-bold uppercase tracking-tighter">ç›®æ ‡ï¼š120,000</p>
                            <div class="flex items-center gap-2"><div class="flex-1 bg-slate-100 h-1 rounded-full"><div class="bg-blue-600 h-full" style="width: 68%"></div></div><span class="text-[9px] font-black text-blue-600">68%</span></div>
                        </div>
                    </div>
                </div>
            `,
            student: `
                <div class="animate-up">
                    <div class="flex justify-between items-center mb-8">
                        <div class="flex gap-4">
                            <div class="glass-card px-6 py-4 rounded-2xl flex items-center gap-4"><div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600"><i class="fas fa-users"></i></div><div><p class="text-[9px] text-slate-400 font-bold uppercase">å¸¦ç­æ€»é‡</p><p class="text-lg font-black">482</p></div></div>
                            <div id="risk-card" class="glass-card px-6 py-4 rounded-2xl flex items-center gap-4 border-red-100"><div class="w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center text-red-600"><i class="fas fa-user-shield"></i></div><div><p class="text-[9px] text-red-400 font-bold uppercase">é€€è´¹é£é™©äººæ•°</p><p class="text-lg font-black text-red-600">12</p></div></div>
                        </div>
                    </div>
                    <div class="filter-form" id="filter-form">
                        <div class="filter-header">
                            <h3><i class="fas fa-filter"></i> ç­›é€‰æ¡ä»¶</h3>
                            <i class="fas fa-chevron-down text-slate-400" id="filter-chevron"></i>
                        </div>
                        <div class="filter-content">
                            <div class="filter-field">
                                <label>å­¦å‘˜ID</label>
                                <input type="text" id="filter-student-id" placeholder="è¯·è¾“å…¥å­¦å‘˜ID">
                            </div>
                            <div class="filter-field">
                                <label>å­¦å‘˜æ‰‹æœºå·</label>
                                <input type="text" id="filter-phone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·">
                            </div>
                            <div class="filter-field">
                                <label>ç­çº§ID</label>
                                <input type="text" id="filter-class-id" placeholder="è¯·è¾“å…¥ç­çº§ID">
                            </div>
                            <div class="filter-field">
                                <label>ç­çº§åç§°</label>
                                <input type="text" id="filter-class-name" placeholder="è¯·è¾“å…¥ç­çº§åç§°">
                            </div>
                            <div class="filter-field">
                                <label>æœ¬ç§‘é™¢æ ¡</label>
                                <input type="text" id="filter-undergrad-school" placeholder="è¯·è¾“å…¥æœ¬ç§‘é™¢æ ¡">
                            </div>
                            <div class="filter-field">
                                <label>æœ¬ç§‘ä¸“ä¸š</label>
                                <input type="text" id="filter-undergrad-major" placeholder="è¯·è¾“å…¥æœ¬ç§‘ä¸“ä¸š">
                            </div>
                            <div class="filter-field">
                                <label>ç›®æ ‡é™¢æ ¡</label>
                                <input type="text" id="filter-target-school" placeholder="è¯·è¾“å…¥ç›®æ ‡é™¢æ ¡">
                            </div>
                            <div class="filter-field">
                                <label>ç›®æ ‡ä¸“ä¸š</label>
                                <input type="text" id="filter-target-major" placeholder="è¯·è¾“å…¥ç›®æ ‡ä¸“ä¸š">
                            </div>
                            <div class="filter-field">
                                <label>å®Œè¯¾ç‡</label>
                                <select id="filter-completion-rate">
                                    <option value="">å…¨éƒ¨</option>
                                    <option value="0-20">0-20%</option>
                                    <option value="21-40">21-40%</option>
                                    <option value="41-60">41-60%</option>
                                    <option value="61-80">61-80%</option>
                                    <option value="81-100">81-100%</option>
                                </select>
                            </div>
                            <div class="filter-field">
                                <label>æ˜¯å¦ä¸Šå²¸</label>
                                <select id="filter-is-admitted">
                                    <option value="">å…¨éƒ¨</option>
                                    <option value="yes">æ˜¯</option>
                                    <option value="no">å¦</option>
                                </select>
                            </div>
                            <div class="filter-field">
                                <label>ä¸Šå²¸é™¢æ ¡</label>
                                <input type="text" id="filter-admitted-school" placeholder="è¯·è¾“å…¥ä¸Šå²¸é™¢æ ¡">
                            </div>
                            <div class="filter-field">
                                <label>ä¸Šå²¸ä¸“ä¸š</label>
                                <input type="text" id="filter-admitted-major" placeholder="è¯·è¾“å…¥ä¸Šå²¸ä¸“ä¸š">
                            </div>
                            <div class="filter-field">
                                <label>å¥½å‹å…³ç³»</label>
                                <select id="filter-friend-status">
                                    <option value="">å…¨éƒ¨</option>
                                    <option value="yes">æ˜¯</option>
                                    <option value="no">å¦</option>
                                </select>
                            </div>
                            <div class="filter-field">
                                <label>å¹´çº§</label>
                                <select id="filter-grade">
                                    <option value="">å…¨éƒ¨</option>
                                    <option value="27">27å±Š</option>
                                    <option value="28">28å±Š</option>
                                    <option value="29">29å±Š</option>
                                    <option value="30">30å±Š</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-actions">
                            <button class="filter-btn filter-btn-secondary">
                                <i class="fas fa-redo"></i> é‡ç½®
                            </button>
                            <button class="filter-btn filter-btn-primary">
                                <i class="fas fa-search"></i> ç­›é€‰
                            </button>
                        </div>
                    </div>
                    <div class="glass-card rounded-[32px] overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-xs min-w-[2000px]">
                                <thead class="bg-slate-50/50 border-b">
                                    <tr>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å­¦å‘˜å§“å</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å­¦å‘˜ID</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å­¦å‘˜æ‰‹æœºå·</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">ç­çº§ID</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">ç­çº§åç§°</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">æœ¬ç§‘é™¢æ ¡/ä¸“ä¸š</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">ç›®æ ‡é™¢æ ¡/ä¸“ä¸š</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å®Œè¯¾ç‡</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">æ˜¯å¦ä¸Šå²¸</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">ä¸Šå²¸é™¢æ ¡</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">ä¸Šå²¸ä¸“ä¸š</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å¥½å‹å…³ç³»</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å¹´çº§</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å·²æŠ¥ç§‘ç›®</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å¯æ‰©ç§‘ç›®</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">è€ƒè¯•ç§‘ç›®</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">ç¬¬å‡ æ¬¡è€ƒç ”</th>
                                        <th class="px-4 py-4 font-black text-slate-400 uppercase whitespace-nowrap">å¤‡æ³¨</th>
                                        <th class="px-4 py-4 text-right font-black text-slate-400 uppercase whitespace-nowrap sticky right-0 bg-slate-50/50">æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="student-table-body" class="divide-y divide-slate-100">
                                    <tr>
                                        <td class="px-4 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xs">èŒ</div>
                                                <div>
                                                    <p class="font-bold">æèŒèŒ</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-4 py-4 text-slate-600">98721</td>
                                        <td class="px-4 py-4 text-slate-600">138****5678</td>
                                        <td class="px-4 py-4 text-slate-600">C202701</td>
                                        <td class="px-4 py-4 text-slate-600">27å±Šè®¡ç®—æœºå¼ºåŒ–ç­</td>
                                        <td class="px-4 py-4 text-slate-600">åŒ—äº¬ç†å·¥å¤§å­¦ Â· è½¯ä»¶å·¥ç¨‹</td>
                                        <td class="px-4 py-4 font-medium">æ¸…åå¤§å­¦ Â· è®¡ç®—æœº</td>
                                        <td class="px-4 py-4 text-red-500 font-black">15%</td>
                                        <td class="px-4 py-4"><span class="text-[10px] bg-slate-100 text-slate-600 px-2 py-1 rounded font-bold">å¦</span></td>
                                        <td class="px-4 py-4 text-slate-400">-</td>
                                        <td class="px-4 py-4 text-slate-400">-</td>
                                        <td class="px-4 py-4"><span class="text-[10px] bg-green-100 text-green-600 px-2 py-1 rounded font-bold">æ˜¯</span></td>
                                        <td class="px-4 py-4"><span class="text-[10px] bg-blue-100 text-blue-600 px-2 py-1 rounded font-bold">27å±Š</span></td>
                                        <td class="px-4 py-4 text-slate-600">æ•°å­¦ã€è‹±è¯­</td>
                                        <td class="px-4 py-4 text-slate-600">æ”¿æ²»ã€ä¸“ä¸šè¯¾</td>
                                        <td class="px-4 py-4 text-slate-600">æ•°å­¦ã€è‹±è¯­ã€æ”¿æ²»ã€408</td>
                                        <td class="px-4 py-4 text-slate-600">ç¬¬1æ¬¡</td>
                                        <td class="px-4 py-4 text-slate-400 text-[10px] max-w-[150px] truncate" title="å®Œè¯¾ç‡è¾ƒä½ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨">å®Œè¯¾ç‡è¾ƒä½ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨</td>
                                        <td class="px-4 py-4 text-right sticky right-0 bg-white">
                                            <button class="text-blue-600 font-bold hover:underline text-xs" onclick="showStudentDrawer('æèŒèŒ', '98721', 'æ¸…åå¤§å­¦', 'è®¡ç®—æœº', '15%')">æŸ¥çœ‹è¯¦æƒ…</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>`
        };

        function showPage(pageId) {
            pcContent.innerHTML = pages[pageId] || `<div class="p-20 text-center text-slate-300 font-bold uppercase tracking-widest">Page In Development</div>`;
            const titles = {home:'é¦–é¡µçœ‹æ¿', student:'å­¦å‘˜ç®¡ç†', task:'ä»»åŠ¡ç®¡ç†'};
            pageTitle.innerText = titles[pageId] || 'ç³»ç»Ÿæ¨¡å—';
            document.querySelectorAll('.sidebar-item').forEach(el => el.classList.remove('nav-active'));
            const navEl = document.getElementById('nav-' + pageId);
            if (navEl) navEl.classList.add('nav-active');
            
            // é‡æ–°ç»‘å®šç­›é€‰è¡¨å•çš„æŠ˜å äº‹ä»¶å’ŒæŒ‰é’®äº‹ä»¶
            const filterForm = document.getElementById('filter-form');
            if (filterForm) {
                const filterHeader = filterForm.querySelector('.filter-header');
                if (filterHeader) {
                    filterHeader.onclick = toggleFilterForm;
                }
                
                const resetBtn = filterForm.querySelector('.filter-btn-secondary');
                const applyBtn = filterForm.querySelector('.filter-btn-primary');
                if (resetBtn) resetBtn.onclick = resetFilterForm;
                if (applyBtn) applyBtn.onclick = applyFilter;
            }
        }

        function switchView(view) {
            document.getElementById('view-pc').classList.add('hidden');
            document.getElementById('view-wecom').classList.add('hidden');
            document.getElementById('view-mobile').classList.add('hidden');
            document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));

            document.getElementById('view-' + view).classList.remove('hidden');
            document.getElementById('btn-' + view).classList.add('active');
            if(view === 'pc') showPage('home');
        }

        function showRiskStudents() {
            showPage('student');
            setTimeout(() => { document.getElementById('risk-card').classList.add('ring-4', 'ring-red-500/20', 'border-red-500'); }, 100);
        }

        function showStudentDrawer(name, id, school, major, completionRate) {
            document.getElementById('drawer-student-name').textContent = name;
            document.getElementById('drawer-name').textContent = name;
            document.getElementById('drawer-id').textContent = id;
            document.getElementById('drawer-school').textContent = school;
            document.getElementById('drawer-major').textContent = major;
            document.getElementById('drawer-avatar').textContent = name.charAt(0);
            
            const overlay = document.getElementById('drawer-overlay');
            const drawer = document.getElementById('student-drawer');
            overlay.classList.add('show');
            drawer.classList.add('show');
        }

        function closeStudentDrawer() {
            const overlay = document.getElementById('drawer-overlay');
            const drawer = document.getElementById('student-drawer');
            overlay.classList.remove('show');
            drawer.classList.remove('show');
        }

        function toggleFilterForm() {
            const form = document.getElementById('filter-form');
            form.classList.toggle('filter-collapsed');
        }

        function resetFilterForm() {
            document.getElementById('filter-student-id').value = '';
            document.getElementById('filter-phone').value = '';
            document.getElementById('filter-class-id').value = '';
            document.getElementById('filter-class-name').value = '';
            document.getElementById('filter-undergrad-school').value = '';
            document.getElementById('filter-undergrad-major').value = '';
            document.getElementById('filter-target-school').value = '';
            document.getElementById('filter-target-major').value = '';
            document.getElementById('filter-completion-rate').value = '';
            document.getElementById('filter-is-admitted').value = '';
            document.getElementById('filter-admitted-school').value = '';
            document.getElementById('filter-admitted-major').value = '';
            document.getElementById('filter-friend-status').value = '';
            document.getElementById('filter-grade').value = '';
        }

        function applyFilter() {
            const filters = {
                studentId: document.getElementById('filter-student-id').value,
                phone: document.getElementById('filter-phone').value,
                classId: document.getElementById('filter-class-id').value,
                className: document.getElementById('filter-class-name').value,
                undergradSchool: document.getElementById('filter-undergrad-school').value,
                undergradMajor: document.getElementById('filter-undergrad-major').value,
                targetSchool: document.getElementById('filter-target-school').value,
                targetMajor: document.getElementById('filter-target-major').value,
                completionRate: document.getElementById('filter-completion-rate').value,
                isAdmitted: document.getElementById('filter-is-admitted').value,
                admittedSchool: document.getElementById('filter-admitted-school').value,
                admittedMajor: document.getElementById('filter-admitted-major').value,
                friendStatus: document.getElementById('filter-friend-status').value,
                grade: document.getElementById('filter-grade').value
            };
            
            console.log('ç­›é€‰æ¡ä»¶:', filters);
            // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„ç­›é€‰é€»è¾‘ï¼Œæ¯”å¦‚è°ƒç”¨APIæˆ–è¿‡æ»¤æœ¬åœ°æ•°æ®
            // ç¤ºä¾‹ï¼šæ ¹æ®ç­›é€‰æ¡ä»¶æ›´æ–°è¡¨æ ¼æ•°æ®
            alert('ç­›é€‰åŠŸèƒ½å·²è§¦å‘ï¼Œç­›é€‰æ¡ä»¶ï¼š' + JSON.stringify(filters, null, 2));
        }

        // åˆå§‹åŒ–
        showPage('home');
    </script>
</body>
</html>